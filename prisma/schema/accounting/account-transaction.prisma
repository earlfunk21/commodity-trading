model AccountTransaction {
  id               String                 @id @default(nanoid())
  createdAt        DateTime               @default(now())
  updatedAt        DateTime               @updatedAt
  deletedAt        DateTime?
  account          Account                @relation(fields: [accountId], references: [id])
  accountId        String
  amount           Float
  type             AccountTransactionType
  accountDepositId String?
  accountDeposit   AccountDeposit?        @relation(fields: [accountDepositId], references: [id])

  @@index([accountId])
  @@index([createdAt])
  @@index([accountId, createdAt])
  @@index([type])
  @@index([accountId, type])
  @@index([accountId, type, createdAt])
}

enum AccountTransactionType {
  Income
  Purchase
  Referral
  Deposit
  Withdraw
  Transfer
}
